<section class="text-gray-600 body-font">
    <div class="container px-5 py-3 mx-auto">
      <div class="flex flex-col text-center w-full">
        <h1 class="sm:text-2xl text-3xl font-medium title-font mb-2 text-green-700">
          REPORTES DE LOS USUARIOS
        </h1>
      </div>
  
      <div class="lg:w-3/4 md:w-2/3 mx-auto py-5">
        <div class="flex flex-wrap -m-2">
          <div class="p-2 w-1/2">
            <div class="relative">
              <input
                type="text"
                id="hero-field"
                name="filterTable"
                [(ngModel)]="filterTable"
                autocomplete="off"
                placeholder="Buscar usuario por correo electronico"
                class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"
              />
            </div>
          </div>
          <div class="p-2 w-1/2">
            <div class="relative">
              <button
                class="flex ml-auto text-white bg-green-500 border-0 py-2 px-6 focus:outline-none hover:bg-green-600 rounded"
                [routerLink]="['/create-report']"
              >
                Crear reporte
              </button>
            </div>
          </div>
  
          <div class="p-2 w-1/2">
            <div class="relative">
              <button
                class="flex ml-auto text-white bg-green-500 border-0 py-2 px-6 focus:outline-none hover:bg-green-600 rounded"
                [routerLink]="['/check-my-report']"
              >
                Tabla usuario
              </button>
            </div>
          </div>
  
        </div>
    </div>
  
      <div class="lg:w-3/4 w-full mx-auto overflow-x-auto sm:rounded-lg">
        <table class="table-auto w-full text-left whitespace-no-wrap">
          <thead>
            <tr>
              <th class="px-4 py-2 title-font tracking-wider font-medium text-green-800 text-sm bg-gray-200">
                ID
              </th>
              <th class="px-4 py-2 title-font tracking-wider font-medium text-green-800 text-sm bg-gray-200">
                FECHA DE REPORTE
              </th>
              <th class="px-4 py-2 title-font tracking-wider font-medium text-green-800 text-sm bg-gray-200">
                DESCRIPCIÓN
              </th>
              <th class="px-4 py-2 title-font tracking-wider font-medium text-green-800 text-sm bg-gray-200">
                USUARIO
              </th>
              <th class="px-4 py-2 title-font tracking-wider font-medium text-green-800 text-sm bg-gray-200">
                ESTADO
              </th>
              <th class="px-4 w-10 title-font tracking-wider font-medium text-green-800 text-sm bg-gray-200 rounded-tr rounded-br">
                ACCIONES
              </th>
            </tr> 
              <th class="w-10 title-font tracking-wider font-medium text-gray-900 text-sm bg-gray-100 rounded-tr rounded-br"></th>
          </thead>
          <tbody>
            <tr *ngFor="let reporte of reportes | filterEmail:filterTable | paginate: { itemsPerPage: numberOfLines, currentPage: page }">
              <td class="border-t-2 border-b-2 border-l-2 border-gray-200 px-4 py-1"> {{ reporte.id }} </td>
              <td class="border-t-2 border-b-2 border-gray-200 px-4 py-1"> {{ reporte.report_date | date: 'dd/MM/yyyy' }} </td>
              <td class="border-t-2 border-b-2 border-gray-200 px-4 py-1"> {{ reporte.description }} </td>
              <td class="border-t-2 border-b-2 border-gray-200 px-4 py-1"> {{ reporte.username }} </td>
              <td class="border-t-2 border-b-2 border-gray-200 px-4 py-1" [ngClass]="getStatusClass(reporte.report_status)"> {{reporte.report_status}} </td>
              <td class="border-t-2 border-b-2 border-r-2 border-gray-200 px-4 py-1">
                <div class="flex justify-center">
                  <button class="px-1" (click)="openUpdateStatusModal(reporte)" title="Editar">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#1e3a8a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit">
                      <path d="M12 20h9"></path>
                      <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                    </svg>
                  </button>
                  <button class="px-1" (click)="deleteReport(reporte.id)" title="Eliminar">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#ff0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2">
                      <polyline points="3 6 5 6 21 6"></polyline>
                      <path d="M19 6l-2 14H7L5 6"></path>
                      <path d="M10 11v6"></path>
                      <path d="M14 11v6"></path>
                      <path d="M1 1l22 22"></path>
                    </svg>
                  </button>
              </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>
  
  <section class="text-gray-600 body-font">
    <div class="container px-5 py-3 mx-auto">
      <div class="lg:w-3/4 md:w-3/4 mx-auto py-5">
        <div class="flex flex-wrap -m-2">
          <div class="p-2 w-2/3">
            <div class="relative">
                <pagination-controls class="my-pagination" (pageChange)="page = $event" previousLabel="Anterior" nextLabel="Siguiente">
                </pagination-controls>
            </div>
          </div>
  
          <div class="p-2 w-1/3">
            <div class="relative">
                <pagination-template #p="paginationApi" (pageChange)="page = $event">
                  Página {{ getStartIndex(p.getCurrent()) }} - {{ getLastIndex(p.getCurrent()) }} de {{ reportes.length }}
                <select
                  name="noRows"
                  id="noRows"
                  (change)="page = 1"
                  [(ngModel)]="numberOfLines"
                >
                  <option value="10">10</option>
                  <option value="20">20</option>
                  <option value="30">30</option>
                </select>
              </pagination-template>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  
